{% extends '_base.html' %}

{% block body_class %}index{% endblock body_class %}

{% block extra_css %}
    {{ CSS.push('css/mapbox.css') }}
{% endblock %}

{% block extra_head %}
    <script type='text/javascript' src="http://api.tiles.mapbox.com/mapbox.js/v1.1.0/mapbox.js"></script>
{% endblock %}

{% block header_content %}
<header>
    <div class="container">
        <div class="row">
            <div class="span12">
                <h1>{{ PROJECT_NAME }}</h1>
                <h2>{{ COPY.content.lorem_ipsum }}</h2>
            </div>
        </div>
        <div class="row">
            <div class="span12">

                <div id="create_thanks" class="alert alert-success alert-block hide">
                    <a href="#" class="close" data-dismiss="alert">&times;</a>
                    <h4>Thanks!</h4>
                    <p>Your changes have been submitted for review.</p>
                    <p>Would you mind reviewing another playground?</p>
                    <ul>
                        <li><a href="#">Park One</a></li>
                        <li><a href="#">Park Two</a></li>
                        <li><a href="#">Park Three</a></li>
                        <li><a href="#">Not Now, Thanks</a></li>
                    </ul>
                </div>

                <h3 id="search-title">{{ COPY.content.search_title }}</h3>

                <form id="search">
                    <button type="button" id="geolocate" class="btn btn-blue btn-block"><i class="icon-screenshot"></i> Find Playgrounds Nearby</button>

                    <h6 class="divider">OR</h6>

                    <div class="text-search">
                        <p><label for="address">Address:</label> <input type="text" name="address" /></p>

                        <p class="example">For example,
                            <a id="newyork">New York City</a> or
                            <a id="huntley">Deicke Park, Huntley, IL</a> or
                            <a id="zip">79410</a>
                        </p>
                    </div>
                    <input type="hidden" name="latitude" />
                    <input type="hidden" name="longitude" />
                    <button type="submit" id="search-btn" class="btn btn-blue btn-block"><i class="icon-search"></i> Search</button>
                </form>

            </div>
        </div>
    </div>
</header>
{% endblock %}


{% block content %}
<div id="search-help">
    <h4>Did you mean...?</h4>
    <ul></ul>
    <h6 class="divider">OR</h6>
</div>

<div id="no-geocode">
    <h4>Sorry, we couldn't locate that address.</h4>
</div>

<div id="results-loading">Loading...</div>

<div id="search-results-wrapper">
    <h4 id="results-address"></h4>
    <div id="search-results-map-wrapper">
        <img id="search-results-map" src="" />
        <img id="search-results-map-loading" src="img/loading.gif" />

        <div class="zoom-buttons">
            <button type="button" id="zoom-in" class="btn-zoom">+</button>
            <button type="button" id="zoom-out" class="btn-zoom">-</button>
        </div>
    </div>

    <ul id="search-results" class="playground-list">
    </ul>

    <div class="help-prompt">
        <p class="prompt">{{ COPY.content.search_help_title }}</p>
        <p><a href="create.html" class="btn btn-blue btn-block"><i class="icon-plus-sign"></i> {{ COPY.content.search_help_button }}</a></p>
    </div>
</div>

<button type="button" id="search-again" class="btn btn-blue btn-block"><i class="icon-search"></i> Try Another Search</button>


<h3 id="help-title">{{ COPY.content.help_title }}</h3>
<p id="help-description">{{ COPY.content.help_description }}</p>


<h3 id="feature-title">{{ COPY.content.feature_title }}</h3>
<p id="feature-description">{{ COPY.content.feature_description }}</p>

<dl id="feature-list">
    {% for row in COPY.feature_list %}
    <dt>
        <img src="{{ row.photo }}" alt="{{ row.term }}" />
        {{ row.term }}
    </dt>
    <dd>{{ row.definition }}</dd>
    {% endfor %}
</dl>

{% endblock %}


{% block wide_content %}
{% endblock %}

{% block extra_foot_js %}
    {{ JS.push('js/lib/underscore.js') }}
    {{ JS.push('js/lib/moment.js') }}
    {{ JS.push('js/lib/bootstrap.js') }}
    {{ JS.push('js/templates.js') }}
    {{ JS.push('js/index.js') }}
    {{ JS.push('js/utils.js') }}
    {{ JS.render('js/app-index-footer.min.js') }}
{% endblock %}
